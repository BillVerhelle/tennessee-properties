<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill & Cyndee Verhelle's Preferred Properties</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: #f5f5f7;
            color: #1d1d1f;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            padding: 24px 0;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .stats-bar {
            background: #2563eb;
            color: white;
            padding: 12px 0;
        }

        .stats-content {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 32px 0;
        }

        .property-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .property-card:hover {
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .interest-badge {
            background: linear-gradient(90deg, #facc15, #fbbf24);
            color: black;
            padding: 4px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        .property-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .image-container {
            position: relative;
        }

        .price-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .property-details {
            padding: 16px;
        }

        .property-address {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .property-stats {
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 16px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            text-decoration: none;
        }

        .btn-primary {
            background: #2563eb;
            color: white;
        }

        .btn-primary:hover {
            background: #1d4ed8;
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #1f2937;
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 32px 0;
        }

        .page-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s;
        }

        .page-btn:hover:not(:disabled) {
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-btn.active {
            background: #2563eb;
            color: white;
        }

        footer {
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 32px 0;
            margin-top: 64px;
        }

        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 400px;
        }

        .spinner {
            width: 48px;
            height: 48px;
            border: 3px solid #e5e7eb;
            border-top-color: #2563eb;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: 20px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }

        .close-btn:hover {
            color: #1f2937;
        }

        @media (max-width: 768px) {
            .property-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-content {
                flex-direction: column;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">BV</div>
                <div>
                    <h1 style="font-size: 24px; font-weight: bold;">
                        Bill & Cyndee Verhelle's Preferred Properties
                    </h1>
                    <p style="font-size: 14px; color: #6b7280;">
                        Property Search Agent developed by Bill Verhelle
                    </p>
                </div>
            </div>
        </div>
    </header>

    <div class="stats-bar">
        <div class="container">
            <div class="stats-content">
                <span id="showing-stats">Loading properties...</span>
                <span>Price Range: $2M - $5M | Sorted: Low to High</span>
            </div>
        </div>
    </div>

    <div class="container">
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p style="margin-top: 16px; color: #6b7280;">Loading properties...</p>
        </div>
        
        <div id="property-grid" class="property-grid" style="display: none;"></div>
        
        <div id="pagination" class="pagination" style="display: none;"></div>
    </div>

    <footer>
        <p>© Bill & Cyndee Verhelle, All Rights Reserved</p>
    </footer>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Property Details</h2>
                <button class="close-btn" onclick="closeModal()">×</button>
            </div>
            <div id="modal-body" class="modal-body"></div>
        </div>
    </div>

    <script>
        // Properties of interest
        const propertiesOfInterest = [
            '7045 Lanceleaf Dr, College Grove, TN 37046',
            '6004 Pelican Way, College Grove, TN 37046',
            '6045 Native Pony Trl, College Grove, TN 37046',
            '8500 Heirloom Blvd, College Grove, TN 37046',
            '8135 Heirloom Blvd, College Grove, TN 37046',
            '8524 Heirloom Blvd, College Grove, TN 37046',
            '9052 Passiflora Ct, College Grove, TN 37046',
            '391 The Lady Of The Lake Ln, Franklin, TN 37067',
            '1005 Scramblers Knob, Franklin, TN 37069',
            '1420 Amesbury Ln, Franklin, TN 37069',
            '1807 Morgan Farms Way, Brentwood, TN 37027',
            '305 Lockhart Ct, Franklin, TN 37069',
            '6128 Lookaway Cir LOT 208, Franklin, TN 37067',
            '8100 Turning Point Dr LOT 14, Brentwood, TN 37027',
            '8103 Turning Point Dr LOT 12, Brentwood, TN 37027',
            '7116 Bonterra Dr, Franklin, TN 37064',
            '1013 Buena Vista Dr, Franklin, TN 37069',
            '5603 Winslet Dr, Franklin, TN 37064',
            '9222 Lehigh Dr, Brentwood, TN 37027',
            '460 Tinnan Ave, Franklin, TN 37067'
        ];

        let properties = [];
        let currentPage = 1;
        const PROPERTIES_PER_PAGE = 75;
// CONNECT TO ZILLOW API
const API_ENDPOINT = 'https://zillow-backend.vercel.app/api/properties';

// Try to fetch real data from API
async function fetchRealProperties() {
    try {
        const response = await fetch(API_ENDPOINT);
        if (response.ok) {
            const data = await response.json();
            if (data.results) {
                return data.results.map(prop => ({
                    id: 'zillow-' + Math.random(),
                    address: prop.address || 'Nashville Property',
                    price: prop.price || 2500000,
                    beds: prop.beds || 4,
                    baths: prop.baths || 3,
                    sqft: prop.sqft || 4000,
                    image: prop.imgSrc || 'https://picsum.photos/400/300?random=' + Math.random(),
                    zillowUrl: prop.detailUrl || 'https://zillow.com',
                    isInterest: false,
                    description: 'Luxury property'
                }));
            }
        }
    } catch (e) {
        console.log('Using demo data');
    }
    return null;
}
        // Generate mock properties
        function generateProperties() {
            const mockData = [];
            const cities = ['Nashville', 'Brentwood', 'Franklin', 'College Grove'];
            const streets = ['Oak Ridge', 'Maple Grove', 'Elm Creek', 'Pine Valley', 'Cedar Hills'];
            
            // Add properties of interest first
            propertiesOfInterest.forEach((address, index) => {
                mockData.push({
                    id: `interest-${index}`,
                    address: address,
                    price: 2000000 + Math.floor(Math.random() * 3000000),
                    beds: Math.floor(Math.random() * 3) + 3,
                    baths: Math.floor(Math.random() * 2) + 2.5,
                    sqft: Math.floor(Math.random() * 3000) + 3500,
                    image: `https://picsum.photos/400/300?random=${index}`,
                    zillowUrl: `https://www.zillow.com/homes/${address.replace(/\s+/g, '-')}`,
                    isInterest: true,
                    description: 'Premium estate property with luxury finishes and resort-style amenities'
                });
            });
            
            // Generate additional properties
            for (let i = propertiesOfInterest.length; i < 375; i++) {
                const city = cities[Math.floor(Math.random() * cities.length)];
                const street = streets[Math.floor(Math.random() * streets.length)];
                mockData.push({
                    id: `prop-${i}`,
                    address: `${1000 + i} ${street} Dr, ${city}, TN ${37000 + Math.floor(Math.random() * 100)}`,
                    price: 2000000 + Math.floor(Math.random() * 3000000),
                    beds: Math.floor(Math.random() * 3) + 3,
                    baths: Math.floor(Math.random() * 2) + 2.5,
                    sqft: Math.floor(Math.random() * 3000) + 3500,
                    image: `https://picsum.photos/400/300?random=${i + 100}`,
                    zillowUrl: `https://www.zillow.com/homedetails/property-${i}`,
                    isInterest: false,
                    description: 'Beautiful home in prime location with modern updates'
                });
            }
            
            return mockData.sort((a, b) => a.price - b.price);
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(price);
        }

        function createPropertyCard(property) {
            return `
                <div class="property-card">
                    ${property.isInterest ? '<div class="interest-badge">⭐ Property of Interest</div>' : ''}
                    <div class="image-container">
                        <img src="${property.image}" alt="${property.address}" class="property-image">
                        <div class="price-badge">${formatPrice(property.price)}</div>
                    </div>
                    <div class="property-details">
                        <div class="property-address">${property.address}</div>
                        <div class="property-stats">
                            <div class="stat-item">🛏️ ${property.beds} beds</div>
                            <div class="stat-item">🚿 ${property.baths} baths</div>
                            <div class="stat-item">📐 ${property.sqft.toLocaleString()} sqft</div>
                        </div>
                        <div class="action-buttons">
                            <a href="${property.zillowUrl}" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
                                🔗 Zillow
                            </a>
                            <button class="btn btn-secondary" onclick='showPropertyDetails(${JSON.stringify(property).replace(/'/g, "&apos;")})'>
                                ℹ️ Details
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderProperties() {
            const grid = document.getElementById('property-grid');
            const startIndex = (currentPage - 1) * PROPERTIES_PER_PAGE;
            const endIndex = startIndex + PROPERTIES_PER_PAGE;
            const currentProperties = properties.slice(startIndex, endIndex);
            
            grid.innerHTML = currentProperties.map(createPropertyCard).join('');
            
            // Update stats
            document.getElementById('showing-stats').textContent = 
                `Showing ${startIndex + 1}-${Math.min(endIndex, properties.length)} of ${properties.length} properties`;
            
            renderPagination();
        }

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(properties.length / PROPERTIES_PER_PAGE);
            
            let html = `
                <button class="page-btn" onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                    ←
                </button>
            `;
            
            for (let i = 1; i <= Math.min(5, totalPages); i++) {
                let pageNum;
                if (totalPages <= 5) {
                    pageNum = i;
                } else if (currentPage <= 3) {
                    pageNum = i;
                } else if (currentPage >= totalPages - 2) {
                    pageNum = totalPages - 5 + i;
                } else {
                    pageNum = currentPage - 3 + i;
                }
                
                html += `
                    <button class="page-btn ${currentPage === pageNum ? 'active' : ''}" onclick="changePage(${pageNum})">
                        ${pageNum}
                    </button>
                `;
            }
            
            html += `
                <button class="page-btn" onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                    →
                </button>
            `;
            
            pagination.innerHTML = html;
        }

        function changePage(page) {
            const totalPages = Math.ceil(properties.length / PROPERTIES_PER_PAGE);
            if (page < 1 || page > totalPages) return;
            currentPage = page;
            renderProperties();
            window.scrollTo(0, 0);
        }

        function showPropertyDetails(property) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');
            
            modalBody.innerHTML = `
                <img src="${property.image}" alt="${property.address}" style="width: 100%; border-radius: 8px; margin-bottom: 16px;">
                <h3 style="font-size: 24px; margin-bottom: 8px;">${formatPrice(property.price)}</h3>
                <p style="color: #6b7280; margin-bottom: 16px;">📍 ${property.address}</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; padding: 16px 0; border-top: 1px solid #e5e7eb; border-bottom: 1px solid #e5e7eb;">
                    <div style="text-align: center;">
                        <div style="font-size: 24px;">🛏️</div>
                        <div style="font-size: 18px; font-weight: 600;">${property.beds}</div>
                        <div style="font-size: 12px; color: #6b7280;">Bedrooms</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 24px;">🚿</div>
                        <div style="font-size: 18px; font-weight: 600;">${property.baths}</div>
                        <div style="font-size: 12px; color: #6b7280;">Bathrooms</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 24px;">📐</div>
                        <div style="font-size: 18px; font-weight: 600;">${property.sqft.toLocaleString()}</div>
                        <div style="font-size: 12px; color: #6b7280;">Square Feet</div>
                    </div>
                </div>
                <div style="margin-top: 16px;">
                    <h4 style="margin-bottom: 8px;">Description</h4>
                    <p style="color: #6b7280;">${property.description}</p>
                </div>
                <a href="${property.zillowUrl}" target="_blank" rel="noopener noreferrer" class="btn btn-primary" style="width: 100%; margin-top: 16px;">
                    🔗 View on Zillow
                </a>
            `;
            
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // Close modal when clicking outside
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initialize
        setTimeout(() => {
            properties = generateProperties();
            document.getElementById('loading').style.display = 'none';
            document.getElementById('property-grid').style.display = 'grid';
            document.getElementById('pagination').style.display = 'flex';
            renderProperties();
        }, 1500);
    </script>
</body>
</html>
